{"version":3,"sources":["../../app/models/createTable.js"],"names":["dotenv","config","pool","Pool","connectionString","process","env","DATABASE_URL","on","console","log","connect","createRecordsTable","queryText","query","then","res","catch","err","createUserTable","end","createAllTables","require"],"mappings":";;AAAA;;AACA;;;;;;AAEAA,iBAAOC,MAAP;;AAEA,IAAMC,OAAO,IAAIC,QAAJ,CAAS;AACpBC,oBAAkBC,QAAQC,GAAR,CAAYC;AADV,CAAT,CAAb;AAGA;;AAEAL,KAAKM,EAAL,CAAQ,SAAR,EAAmB,YAAM;AACvBC,UAAQC,GAAR,CAAY,uBAAZ;AACD,CAFD;AAGAR,KAAKS,OAAL;;AAEA;AACA,IAAMC,qBAAqB,SAArBA,kBAAqB,GAAM;AAC/B,MAAMC,0UAAN;;AAaAX,OAAKY,KAAL,CAAWD,SAAX,EACGE,IADH,CACQ,UAACC,GAAD,EAAS;AACbP,YAAQC,GAAR,CAAYM,GAAZ;AACD,GAHH,EAIGC,KAJH,CAIS,UAACC,GAAD,EAAS;AACdT,YAAQC,GAAR,CAAYQ,GAAZ;AACD,GANH;AAOD,CArBD;;AAuBA;AACA,IAAMC,kBAAkB,SAAlBA,eAAkB,GAAM;AAC5B,MAAMN,oXAAN;;AAaAX,OAAKY,KAAL,CAAWD,SAAX,EACGE,IADH,CACQ,UAACC,GAAD,EAAS;AACb;AACAd,SAAKkB,GAAL;AACD,GAJH,EAKGH,KALH,CAKS,UAACC,GAAD,EAAS;AACd;AACAhB,SAAKkB,GAAL;AACD,GARH;AASD,CAvBD;;AAyBA;AACA,IAAMC,kBAAkB,SAAlBA,eAAkB,GAAM;AAC5BT;AACAO;AACD,CAHD;;AAKAE;;AAEAC,QAAQ,eAAR","file":"createTable.js","sourcesContent":["import { Pool }  from 'pg';\nimport dotenv  from 'dotenv';\n\ndotenv.config();\n\nconst pool = new Pool({\n  connectionString: process.env.DATABASE_URL,\n});\n// console.log(process.env.DATABASE_URL);\n\npool.on('connect', () => {\n  console.log('connected to database');\n});\npool.connect();\n\n// Table for records\nconst createRecordsTable = () => {\n  const queryText = `CREATE TABLE IF NOT EXISTS\n  records(\n    id UUID PRIMARY KEY,\n    title VARCHAR(128) NOT NULL,\n    createdBy VARCHAR(128) NOT NULL,\n    type VARCHAR(128) NOT NULL,\n    location VARCHAR(128) NOT NULL,\n    status VARCHAR(128) NOT NULL,\n    Images TEXT,\n    Videos TEXT,\n    comment VARCHAR(128) NOT NULL\n);`;\n\n  pool.query(queryText)\n    .then((res) => {\n      console.log(res);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\n// Create Users Table\nconst createUserTable = () => {\n  const queryText = `CREATE TABLE IF NOT EXISTS\n  users(\n    id UUID PRIMARY KEY,\n    email VARCHAR(128) UNIQUE NOT NULL,\n    password VARCHAR(128) NOT NULL,\n    firstaname VARCHAR(128) NOT NULL,\n    lastname VARCHAR(128) NOT NULL,\n    othername VARCHAR(128) NOT NULL,\n    username VARCHAR(128) NOT NULL,\n    phoneNumber INTEGER,\n    isAdmin BOOLEAN default FALSE\n  );`;\n\n  pool.query(queryText)\n    .then((res) => {\n      // console.log(res);\n      pool.end();\n    })\n    .catch((err) => {\n      // console.log(err);\n      pool.end();\n    });\n};\n\n// Create All Tables\nconst createAllTables = () => {\n  createRecordsTable();\n  createUserTable();\n};\n\ncreateAllTables();\n\nrequire('make-runnable');\n"]}