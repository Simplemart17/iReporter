{"version":3,"sources":["../../app/models/dropTable.js"],"names":["dotenv","config","pool","Pool","connectionString","process","env","DATABASE_URL","on","connect","dropRecordsTable","queryText","query","then","res","catch","err","dropUsersTable","end","dropAllTables","console","log","exit","require"],"mappings":";;AAAA;;AACA;;;;;;AAEAA,iBAAOC,MAAP;;AAEA,IAAMC,OAAO,IAAIC,QAAJ,CAAS;AACpBC,oBAAkBC,QAAQC,GAAR,CAAYC;AADV,CAAT,CAAb;AAGA;;AAEAL,KAAKM,EAAL,CAAQ,SAAR,EAAmB,YAAM;AACvB;AACD,CAFD;AAGAN,KAAKO,OAAL;;AAEA,IAAMC,mBAAmB,SAAnBA,gBAAmB,GAAM;AAC7B,MAAMC,YAAY,oBAAlB;AACAT,OAAKU,KAAL,CAAWD,SAAX,EACGE,IADH,CACQ,UAACC,GAAD,EAAS;AACb;AACD,GAHH,EAIGC,KAJH,CAIS,UAACC,GAAD,EAAS;AACd;AACD,GANH;AAOD,CATD;;AAWA,IAAMC,iBAAiB,SAAjBA,cAAiB,GAAM;AAC3B,MAAMN,YAAY,kBAAlB;AACAT,OAAKU,KAAL,CAAWD,SAAX,EACGE,IADH,CACQ,UAACC,GAAD,EAAS;AACb;AACAZ,SAAKgB,GAAL;AACD,GAJH,EAKGH,KALH,CAKS,UAACC,GAAD,EAAS;AACd;AACAd,SAAKgB,GAAL;AACD,GARH;AASD,CAXD;;AAaA;AACA,IAAMC,gBAAgB,SAAhBA,aAAgB,GAAM;AAC1BT;AACAO;AACD,CAHD;;AAKAf,KAAKM,EAAL,CAAQ,QAAR,EAAkB,YAAM;AACtBY,UAAQC,GAAR,CAAY,gBAAZ;AACAhB,UAAQiB,IAAR,CAAa,CAAb;AACD,CAHD;;AAKAH;;AAEAI,QAAQ,eAAR","file":"dropTable.js","sourcesContent":["import { Pool }  from 'pg';\r\nimport dotenv  from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nconst pool = new Pool({\r\n  connectionString: process.env.DATABASE_URL,\r\n});\r\n// console.log(process.env.DATABASE_URL);\r\n\r\npool.on('connect', () => {\r\n  // console.log('connected to database');\r\n});\r\npool.connect();\r\n\r\nconst dropRecordsTable = () => {\r\n  const queryText = 'DROP TABLE records';\r\n  pool.query(queryText)\r\n    .then((res) => {\r\n      // console.log(res);\r\n    })\r\n    .catch((err) => {\r\n      // console.log(err);\r\n    });\r\n};\r\n\r\nconst dropUsersTable = () => {\r\n  const queryText = 'DROP TABLE users';\r\n  pool.query(queryText)\r\n    .then((res) => {\r\n      // console.log(res);\r\n      pool.end();\r\n    })\r\n    .catch((err) => {\r\n      // console.log(err);\r\n      pool.end();\r\n    });\r\n};\r\n\r\n// Drop All Tables\r\nconst dropAllTables = () => {\r\n  dropRecordsTable();\r\n  dropUsersTable();\r\n};\r\n\r\npool.on('remove', () => {\r\n  console.log('client removed');\r\n  process.exit(0);\r\n});\r\n\r\ndropAllTables();\r\n\r\nrequire('make-runnable');\r\n"]}